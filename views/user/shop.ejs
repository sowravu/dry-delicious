<%- include("../layouts/user/header.ejs") %>


  <div class="pageWrapper">
    <!--Search Form Drawer-->
    <div class="search">
      <div class="search__form">
        <form class="search-bar__form" action="#">
          <button class="go-btn search__button" type="submit"><i class="icon anm anm-search-l"></i></button>
          <input id="myInput" class="search__input" onkeyup="myFunction()" type="search"
            placeholder="Search entire store..." aria-label="Search" autocomplete="off">
        </form>
        <button type="button" class="search-trigger close-btn"><i class="icon anm anm-times-l"></i></button>
      </div>
    </div>
    <!--End Search Form Drawer-->
    <!--Top Header-->
     

    <!--End Top Header-->
    <!--Header-->
    <%- include("../layouts/user/topnav.ejs") %>

      <!--End Header-->
      <!--Mobile Menu-->
      <div class="mobile-nav-wrapper" role="navigation">
        <div class="closemobileMenu"><i class="icon anm anm-times-l pull-right"></i> Close Menu</div>
        <ul id="MobileNav" class="mobile-nav">
          <li class="lvl1 parent megamenu"><a href="index.html">Home <i class="anm anm-plus-l"></i></a>
            <ul>
              <li><a href="#" class="site-nav">Home Group 1<i class="anm anm-plus-l"></i></a>
                <ul>
                  <li><a href="index.html" class="site-nav">Home 1 - Classic</a></li>
                  <li><a href="home2-default.html" class="site-nav">Home 2 - Default</a></li>
                  <li><a href="home15-funiture.html" class="site-nav">Home 15 - Furniture </a></li>
                  <li><a href="home3-boxed.html" class="site-nav">Home 3 - Boxed</a></li>
                  <li><a href="home4-fullwidth.html" class="site-nav">Home 4 - Fullwidth</a></li>
                  <li><a href="home5-cosmetic.html" class="site-nav">Home 5 - Cosmetic</a></li>
                  <li><a href="home6-modern.html" class="site-nav">Home 6 - Modern</a></li>
                  <li><a href="home7-shoes.html" class="site-nav last">Home 7 - Shoes</a></li>
                </ul>
              </li>
              <li><a href="#" class="site-nav">Home Group 2<i class="anm anm-plus-l"></i></a>
                <ul>
                  <li><a href="home8-jewellery.html" class="site-nav">Home 8 - Jewellery</a></li>
                  <li><a href="home9-parallax.html" class="site-nav">Home 9 - Parallax</a></li>
                  <li><a href="home10-minimal.html" class="site-nav">Home 10 - Minimal</a></li>
                  <li><a href="home11-grid.html" class="site-nav">Home 11 - Grid</a></li>
                  <li><a href="home12-category.html" class="site-nav">Home 12 - Category</a></li>
                  <li><a href="home13-auto-parts.html" class="site-nav">Home 13 - Auto Parts</a></li>
                  <li><a href="home14-bags.html" class="site-nav last">Home 14 - Bags</a></li>
                </ul>
              </li>
              <li><a href="#" class="site-nav">New Sections<i class="anm anm-plus-l"></i></a>
                <ul>
                  <li><a href="home11-grid.html" class="site-nav">Image Gallery</a></li>
                  <li><a href="home5-cosmetic.html" class="site-nav">Featured Product</a></li>
                  <li><a href="home7-shoes.html" class="site-nav">Columns with Items</a></li>
                  <li><a href="home6-modern.html" class="site-nav">Text columns with images</a></li>
                  <li><a href="home2-default.html" class="site-nav">Products Carousel</a></li>
                  <li><a href="home9-parallax.html" class="site-nav last">Parallax Banner</a></li>
                </ul>
              </li>
              <li><a href="#" class="site-nav">New Features<i class="anm anm-plus-l"></i></a>
                <ul>
                  <li><a href="home13-auto-parts.html" class="site-nav">Top Information Bar </a></li>
                  <li><a href="#" class="site-nav">Age Varification </a></li>
                  <li><a href="#" class="site-nav">Footer Blocks</a></li>
                  <li><a href="#" class="site-nav">2 New Megamenu style</a></li>
                  <li><a href="#" class="site-nav">Show Total Savings </a></li>
                  <li><a href="#" class="site-nav">New Custom Icons</a></li>
                  <li><a href="#" class="site-nav last">Auto Currency</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="lvl1 parent megamenu"><a href="#">Shop <i class="anm anm-plus-l"></i></a>
            <ul>
              <li><a href="#" class="site-nav">Shop Pages<i class="anm anm-plus-l"></i></a>
                <ul>
                  <li><a href="shop-left-sidebar.html" class="site-nav">Left Sidebar</a></li>
                  <li><a href="shop-right-sidebar.html" class="site-nav">Right Sidebar</a></li>
                  <li><a href="shop-fullwidth.html" class="site-nav">Fullwidth</a></li>
                  <li><a href="shop-grid-3.html" class="site-nav">3 items per row</a></li>
                  <li><a href="shop-grid-4.html" class="site-nav">4 items per row</a></li>
                  <li><a href="shop-grid-5.html" class="site-nav">5 items per row</a></li>
                  <li><a href="shop-grid-6.html" class="site-nav">6 items per row</a></li>
                  <li><a href="shop-grid-7.html" class="site-nav">7 items per row</a></li>
                  <li><a href="shop-listview.html" class="site-nav last">Product Listview</a></li>
                </ul>
              </li>
              <li><a href="#" class="site-nav">Shop Features<i class="anm anm-plus-l"></i></a>
                <ul>
                  <li><a href="shop-left-sidebar.html" class="site-nav">Product Countdown </a></li>
                  <li><a href="shop-right-sidebar.html" class="site-nav">Infinite Scrolling</a></li>

                  <li><a href="shop-grid-3.html" class="site-nav">Pagination - Classic</a></li>
                  <li><a href="shop-grid-6.html" class="site-nav">Pagination - Load More</a></li>
                  <li><a href="product-labels.html" class="site-nav">Dynamic Product Labels</a></li>
                  <li><a href="product-swatches-style.html" class="site-nav">Product Swatches </a></li>
                  <li><a href="product-hover-info.html" class="site-nav">Product Hover Info</a></li>
                  <li><a href="shop-grid-3.html" class="site-nav">Product Reviews</a></li>
                  <li><a href="shop-left-sidebar.html" class="site-nav last">Discount Label </a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="lvl1 parent megamenu"><a href="product-layout-1.html">Product <i class="anm anm-plus-l"></i></a>
            <ul>
              <li><a href="product-layout-1.html" class="site-nav">Product Page<i class="anm anm-plus-l"></i></a>
                <ul>
                  <li><a href="product-layout-1.html" class="site-nav">Product Layout 1</a></li>
                  <li><a href="product-layout-2.html" class="site-nav">Product Layout 2</a></li>
                  <li><a href="product-layout-3.html" class="site-nav">Product Layout 3</a></li>
                  <li><a href="product-with-left-thumbs.html" class="site-nav">Product With Left Thumbs</a></li>
                  <li><a href="product-with-right-thumbs.html" class="site-nav">Product With Right Thumbs</a></li>
                  <li><a href="product-with-bottom-thumbs.html" class="site-nav last">Product With Bottom Thumbs</a>
                  </li>
                </ul>
              </li>
              <li><a href="short-description.html" class="site-nav">Product Features<i class="anm anm-plus-l"></i></a>
                <ul>
                  <li><a href="short-description.html" class="site-nav">Short Description</a></li>
                  <li><a href="product-countdown.html" class="site-nav">Product Countdown</a></li>
                  <li><a href="product-video.html" class="site-nav">Product Video</a></li>
                  <li><a href="product-quantity-message.html" class="site-nav">Product Quantity Message</a></li>
                  <li><a href="product-visitor-sold-count.html" class="site-nav">Product Visitor/Sold Count </a></li>
                  <li><a href="product-zoom-lightbox.html" class="site-nav last">Product Zoom/Lightbox </a></li>
                </ul>
              </li>
              <li><a href="#" class="site-nav">Product Features<i class="anm anm-plus-l"></i></a>
                <ul>
                  <li><a href="product-with-variant-image.html" class="site-nav">Product with Variant Image</a></li>
                  <li><a href="product-with-color-swatch.html" class="site-nav">Product with Color Swatch</a></li>
                  <li><a href="product-with-image-swatch.html" class="site-nav">Product with Image Swatch</a></li>
                  <li><a href="product-with-dropdown.html" class="site-nav">Product with Dropdown</a></li>
                  <li><a href="product-with-rounded-square.html" class="site-nav">Product with Rounded Square</a></li>
                  <li><a href="swatches-style.html" class="site-nav last">Product Swatches All Style</a></li>
                </ul>
              </li>
              <li><a href="#" class="site-nav">Product Features<i class="anm anm-plus-l"></i></a>
                <ul>
                  <li><a href="product-accordion.html" class="site-nav">Product Accordion</a></li>
                  <li><a href="product-pre-orders.html" class="site-nav">Product Pre-orders </a></li>
                  <li><a href="product-labels-detail.html" class="site-nav">Product Labels</a></li>
                  <li><a href="product-discount.html" class="site-nav">Product Discount In %</a></li>
                  <li><a href="product-shipping-message.html" class="site-nav">Product Shipping Message</a></li>
                  <li><a href="product-shipping-message.html" class="site-nav last">Size Guide </a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="lvl1 parent megamenu"><a href="about-us.html">Pages <i class="anm anm-plus-l"></i></a>
            <ul>
              <li><a href="cart-variant1.html" class="site-nav">Cart Page <i class="anm anm-plus-l"></i></a>
                <ul class="dropdown">
                  <li><a href="cart-variant1.html" class="site-nav">Cart Variant1</a></li>
                  <li><a href="cart-variant2.html" class="site-nav">Cart Variant2</a></li>
                </ul>
              </li>
              <li><a href="compare-variant1.html" class="site-nav">Compare Product <i class="anm anm-plus-l"></i></a>
                <ul class="dropdown">
                  <li><a href="compare-variant1.html" class="site-nav">Compare Variant1</a></li>
                  <li><a href="compare-variant2.html" class="site-nav">Compare Variant2</a></li>
                </ul>
              </li>
              <li><a href="checkout.html" class="site-nav">Checkout</a></li>
              <li><a href="about-us.html" class="site-nav">About Us<span class="lbl nm_label1">New</span></a></li>
              <li><a href="contact-us.html" class="site-nav">Contact Us</a></li>
              <li><a href="faqs.html" class="site-nav">FAQs</a></li>
              <li><a href="lookbook1.html" class="site-nav">Lookbook<i class="anm anm-plus-l"></i></a>
                <ul>
                  <li><a href="lookbook1.html" class="site-nav">Style 1</a></li>
                  <li><a href="lookbook2.html" class="site-nav last">Style 2</a></li>
                </ul>
              </li>
              <li><a href="404.html" class="site-nav">404</a></li>
              <li><a href="coming-soon.html" class="site-nav">Coming soon<span class="lbl nm_label1">New</span></a></li>
            </ul>
          </li>
          <li class="lvl1 parent megamenu"><a href="blog-left-sidebar.html">Blog <i class="anm anm-plus-l"></i></a>
            <ul>
              <li><a href="blog-left-sidebar.html" class="site-nav">Left Sidebar</a></li>
              <li><a href="blog-right-sidebar.html" class="site-nav">Right Sidebar</a></li>
              <li><a href="blog-fullwidth.html" class="site-nav">Fullwidth</a></li>
              <li><a href="blog-grid-view.html" class="site-nav">Gridview</a></li>
              <li><a href="blog-article.html" class="site-nav">Article</a></li>
            </ul>
          </li>
          <li class="lvl1"><a href="#"><b>Buy Now!</b></a>
          </li>
        </ul>
      </div>
      <!--End Mobile Menu-->

      <!--Body Content-->
      <div id="page-content">
        <!--Collection Banner-->
        <div class="collection-header">
          <div class="collection-hero">
            <div class="collection-hero__image"><img class="blur-up lazyload" height="250px"
                data-src="assets/images/cat-women1.jpg" src="assets/images/cat-women1.jpg" alt="Women" title="Women" />
            </div>
            <div class="collection-hero__title-wrapper">
              <h1 class="collection-hero__title page-width">All Products</h1>
            </div>
          </div>
        </div>
        <br>
        <!--End Collection Banner-->
        <form id="filterForm" method="GET" action="/shop">
          <div class="container">
            <div class="row">
              <!--Sidebar-->
              <div class="col-12 col-sm-12 col-md-3 col-lg-3 sidebar filterbar">
                <div class="closeFilter d-block d-md-none d-lg-none"><i class="icon icon anm anm-times-l"></i></div>
                <div class="sidebar_tags">
                  <!--Categories-->
                  <div class="sidebar_widget categories filter-widget">
                    <div class="widget-title">
                      <h2>Categories</h2>
                    </div>
                    <div class="widget-content">
                      <ul class="sidebar_categories">
                        <% for(let i=0; i < categories.length; i++) {%>
                          <li>
                            <input type="checkbox" name="category" value="<%= categories[i]._id %>"
                              id="category_<%= i %>" <%=selectedCategories.includes(categories[i]._id.toString())
                              ? 'checked' : '' %> >
                            <label for="category_<%= i %>">
                              <%= categories[i].categoryName %>
                            </label>
                          </li>

                          <% } %>
                      </ul>
                    </div>
                  </div>
                  <div class="sidebar_widget categories filter-widget">
                    <div class="widget-title">
                      <h2>Brands</h2>
                    </div>
                    <div class="widget-content">
                      <ul class="sidebar_categories">
                        <% for(let i=0; i < brand.length; i++) {%>
                          <li>
                            <input type="checkbox" name="brand" value="<%= brand[i]._id %>" id="brand_<%= i %>"
                            <%=selectedBrands.includes(brand[i]._id.toString()) ? "checked" : "" %>
                            <label for="brand_<%= i %>">
                              <%= brand[i].brandname %>
                            </label>
                          </li>

                          <% } %>
                      </ul>
                    </div>
                  </div>

                  <div class="sidebar_widget filterBox filter-widget">
                    <div class="widget-title">
                      <h2>Sort option</h2>
                    </div>
                    <ul>
                      <li>
                        <input type="radio" name="sort" value="priceAsc" id="priceAsc" <%=selectedSort==="priceAsc"
                          ? "checked" : "" %> >
                        <label for="priceAsc">Price: Low to High</label>
                        <br>
                        <input type="radio" name="sort" value="priceDesc" id="priceDesc">
                        <label for="priceDesc">Price: High to Low</label>
                        <br>
                        <input type="radio" name="sort" value="nameAsc" id="nameAsc">
                        <label for="nameAsc">Name: A to Z</label>
                        <br>
                        <input type="radio" name="sort" value="nameDesc" id="nameDesc">
                        <label for="nameDesc">Name: Z to A</label>
                        <br>
                      </li>


                    </ul>


                  </div>

              
                  <button type="submit" class="btn btn-primary">Apply Filter</button>


                  <div class="container" style="position: relative; height: 100vh;">
                    <a href="/shop" style="
                                position: absolute;
                                top: -37px;    /* Adjust top position */
                                right: 20px;  /* Adjust right position */
                                display: inline-flex;
                                justify-content: center;
                                height: 38px;
                                align-items: center;
                                padding: 10px 20px;
                                color: #fff;
                                background-color: #007bff;
                                border-radius: 4px;
                                text-decoration: none;
                                font-size: 1rem;
                                transition: background-color 0.3s ease;
                            " onmouseover="this.style.backgroundColor='#0056b3'"
                      onmouseout="this.style.backgroundColor='#007bff'">
                      Clear Filter
                    </a>
                  </div>




                </div>
              </div>
        </form>
        <!--End Sidebar-->
        <!--Main Content-->



        <div class="col-12 col-sm-12 col-md-9 col-lg-9 main-col">
          <div class="productList">
            <!--Toolbar-->
            <button type="button" class="btn btn-filter d-block d-md-none d-lg-none"> Product Filters</button>
            <div class="toolbar">
              <div class="filters-toolbar-wrapper">
                <div class="row">
                  <div class="col-4 col-md-4 col-lg-4 text-right">
                    <div class="filters-toolbar__item">

                      <input class="collection-header__default-sort" type="hidden" value="manual">
                    </div>
                  </div>

                </div>
              </div>
            </div>
            <!--End Toolbar-->
            <div class="grid-products grid--view-items">
              <div class="row">
                <% product.forEach(item => { %>
                  <div class="col-6 col-sm-6 col-md-4 col-lg-3 item">
                    <!-- Start product image -->
                    <div class="product-image" style="position: relative; overflow: hidden;">
                      <a href="/product-details?id=<%= item._id %>">
                        <!-- Primary image -->
                        <img style="height: 180px; width: 250px;" class="primary blur-up lazyload"
                          data-src="/uploads/<%= item.productImage[0] %>" src="/uploads/<%= item.productImage[0] %>"
                          alt="<%= item.productname %>" title="<%= item.productname %>">
                        <!-- Hover image -->
                        <% if (item.productImage.length > 1) { %>
                          <img style="height: 180px; width: 250px;" class="hover blur-up lazyload"
                            data-src="/uploads/<%= item.productImage[1] %>" src="/uploads/<%= item.productImage[1] %>"
                            alt="<%= item.productname %>" title="<%= item.productname %>">
                        <% } %>
                      </a>
            
                      <!-- Wishlist button -->
                      <div class="button-set">
                        <% 
                          let isProductInWishlist = false;
                          let isRed = false; // Initialize the isRed variable
                          if (findwishlist && findwishlist.products) {
                            findwishlist.products.forEach(wishlistItem => {
                              if (wishlistItem.productId.toString() === item._id.toString()) {
                                isProductInWishlist = true;
                                isRed = wishlistItem.isRed; // Assign isRed based on the wishlist item
                              }
                            });
                          }
                        %>
                        <% if (isProductInWishlist && isRed) { %>
                          <!-- Product is in wishlist and is red (filled heart) -->
                          <div class="wishlist-btn" data-product-id="<%= item._id %>">
                            <i class="fas fa-heart" style="font-size: 20px; color: red; cursor: pointer; transition: color 0.3s ease;"></i>
                          </div>
                        <% } else { %>
                          <!-- Product is not in wishlist, or not red (empty heart) -->
                          <div class="wishlist-btn" data-product-id="<%= item._id %>">
                            <i class="far fa-heart" style="font-size: 20px; color: rgb(242, 9, 9); cursor: pointer; transition: color 0.3s ease;"></i>
                          </div>
                        <% } %>
                      </div>
                    </div>
                    <!-- End product image -->
            
                    <!-- Start product details -->
                    <div class="product-details text-center">
                      <!-- Product name -->
                      <div class="product-name">
                        <a class="product-link" href="/product-details?id=<%= item._id %>">
                          <%= item.productname %>
                        </a>
                      </div>
                      <!-- End product name -->
            
                      <!-- Product price -->
                      <div class="product-price">
                        <% 
                            let price = item.weightoptions.find(option => option.stock > 0);
                        %>
                        <% if (price) { %>
                            <span class="price">₹<%= price.salesPrice %></span>
                            <span class="old-price" style="text-decoration: line-through; color: #999;">₹<%= price.Actualprice %></span>
                        <% } else { %>
                            <span class="price">Out of Stock</span>
                        <% } %>
                    </div>
                    
                      <!-- End product price -->
                    </div>
                    <!-- End product details -->
                  </div>
                <% }); %>
              </div>
            </div>
            
            
            
            


          </div>
          <div class="infinitpaginOuter">
            <!-- <div class="infinitpagin">	
                            <a href="#" class="btn loadMore">Load More</a>

                        </div> -->
            <div class="pagination-container" style="margin-top: 20px; margin-bottom: 40px;">
              <nav aria-label="Pagination">
                <ul class="page-list" style="display: flex; justify-content: center; padding: 0;">

                  <% if (currentpage> 1) { %>
                    <li class="page-item-prev" style="margin-right: 10px;">
                      <a class="page-link-prev" href="?page=<%= currentpage - 1 %>&limit=<%= limit %>"
                        style="display: flex; align-items: center; padding: 10px; border: 1px solid #ccc; border-radius: 50%; background-color: #f1f1f1;">
                        <i class="icon-prev" style="font-size: 14px;">&#8249;</i>
                      </a>
                    </li>
                    <% } %>

                      <% for (let i=1; i <=totalPages; i++) { %>
                        <li class="page-item-number <%= i === currentpage ? 'page-active' : '' %>"
                          style="margin-right: 10px;">
                          <a class="page-link-number" href="?page=<%= i %>&limit=<%= limit %>"
                            style="padding: 10px 15px; border: 1px solid #ccc; border-radius: 50%;" <%=i===currentpage
                            ? 'background-color: #007bff; color: white;' : 'background-color: #f1f1f1; color: #007bff;'
                            %>">
                            <%= i %>
                          </a>
                        </li>
                        <% } %>

                          <% if (currentpage < totalPages) { %>
                            <li class="page-item-next" style="margin-left: 10px;">
                              <a class="page-link-next" href="?page=<%= currentpage + 1 %>&limit=<%= limit %>"
                                style="display: flex; align-items: center; padding: 10px; border: 1px solid #ccc; border-radius: 50%; background-color: #f1f1f1;">
                                <i class="icon-next" style="font-size: 14px;">&#8250;</i>
                              </a>
                            </li>
                            <% } %>

                </ul>
              </nav>
            </div>

          </div>
        </div>

        <!--End Main Content-->
      </div>
  </div>

  </div>

  <!--End Body Content-->

  <!--Footer-->
  <footer id="footer">
    <div class="newsletter-section">
      <div class="container">
        <div class="row">
          <div class="col-12 col-sm-12 col-md-12 col-lg-7 w-100 d-flex justify-content-start align-items-center">
            <div class="display-table">
              <div class="display-table-cell footer-newsletter">
                <div class="section-header text-center">
                  <label class="h2"><span>sign up for </span>newsletter</label>
                </div>
                <form action="#" method="post">
                  <div class="input-group">
                    <input type="email" class="input-group__field newsletter__input" name="EMAIL" value=""
                      placeholder="Email address" required="">
                    <span class="input-group__btn">
                      <button type="submit" class="btn newsletter__submit" name="commit" id="Subscribe"><span
                          class="newsletter__submit-text--large">Subscribe</span></button>
                    </span>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <div class="col-12 col-sm-12 col-md-12 col-lg-5 d-flex justify-content-end align-items-center">
            <div class="footer-social">
              <ul class="list--inline site-footer__social-icons social-icons">
                <li><a class="social-icons__link" href="#" target="_blank"
                    title="Belle Multipurpose Bootstrap 4 Template on Facebook"><i class="icon icon-facebook"></i></a>
                </li>
                <li><a class="social-icons__link" href="#" target="_blank"
                    title="Belle Multipurpose Bootstrap 4 Template on Twitter"><i class="icon icon-twitter"></i> <span
                      class="icon__fallback-text">Twitter</span></a></li>
                <li><a class="social-icons__link" href="#" target="_blank"
                    title="Belle Multipurpose Bootstrap 4 Template on Pinterest"><i class="icon icon-pinterest"></i>
                    <span class="icon__fallback-text">Pinterest</span></a></li>
                <li><a class="social-icons__link" href="#" target="_blank"
                    title="Belle Multipurpose Bootstrap 4 Template on Instagram"><i class="icon icon-instagram"></i>
                    <span class="icon__fallback-text">Instagram</span></a></li>
                <li><a class="social-icons__link" href="#" target="_blank"
                    title="Belle Multipurpose Bootstrap 4 Template on Tumblr"><i class="icon icon-tumblr-alt"></i> <span
                      class="icon__fallback-text">Tumblr</span></a></li>
                <li><a class="social-icons__link" href="#" target="_blank"
                    title="Belle Multipurpose Bootstrap 4 Template on YouTube"><i class="icon icon-youtube"></i> <span
                      class="icon__fallback-text">YouTube</span></a></li>
                <li><a class="social-icons__link" href="#" target="_blank"
                    title="Belle Multipurpose Bootstrap 4 Template on Vimeo"><i class="icon icon-vimeo-alt"></i> <span
                      class="icon__fallback-text">Vimeo</span></a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="site-footer">
      <div class="container">
        <!--Footer Links-->
        <div class="footer-top">
          <div class="row">
            <div class="col-12 col-sm-12 col-md-3 col-lg-3 footer-links">
              <h4 class="h4">Quick Shop</h4>
              <ul>
                <li><a href="#">Women</a></li>
                <li><a href="#">Men</a></li>
                <li><a href="#">Kids</a></li>
                <li><a href="#">Sportswear</a></li>
                <li><a href="#">Sale</a></li>
              </ul>
            </div>
            <div class="col-12 col-sm-12 col-md-3 col-lg-3 footer-links">
              <h4 class="h4">Informations</h4>
              <ul>
                <li><a href="#">About us</a></li>
                <li><a href="#">Careers</a></li>
                <li><a href="#">Privacy policy</a></li>
                <li><a href="#">Terms &amp; condition</a></li>
                <li><a href="#">My Account</a></li>
              </ul>
            </div>
            <div class="col-12 col-sm-12 col-md-3 col-lg-3 footer-links">
              <h4 class="h4">Customer Services</h4>
              <ul>
                <li><a href="#">Request Personal Data</a></li>
                <li><a href="#">FAQ's</a></li>
                <li><a href="#">Contact Us</a></li>
                <li><a href="#">Orders and Returns</a></li>
                <li><a href="#">Support Center</a></li>
              </ul>
            </div>
            <div class="col-12 col-sm-12 col-md-3 col-lg-3 contact-box">
              <h4 class="h4">Contact Us</h4>
              <ul class="addressFooter">
                <li><i class="icon anm anm-map-marker-al"></i>
                  <p>55 Gallaxy Enque,<br>2568 steet, 23568 NY</p>
                </li>
                <li class="phone"><i class="icon anm anm-phone-s"></i>
                  <p>(440) 000 000 0000</p>
                </li>
                <li class="email"><i class="icon anm anm-envelope-l"></i>
                  <p>sales@yousite.com</p>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <!--End Footer Links-->
        <hr>
        <div class="footer-bottom">
          <div class="row">
            <!--Footer Copyright-->
            <div
              class="col-12 col-sm-12 col-md-6 col-lg-6 order-1 order-md-0 order-lg-0 order-sm-1 copyright text-sm-center text-md-left text-lg-left">
              <span></span> <a href="templateshub.net">Templates Hub</a></div>
            <!--End Footer Copyright-->
            <!--Footer Payment Icon-->
            <div
              class="col-12 col-sm-12 col-md-6 col-lg-6 order-0 order-md-1 order-lg-1 order-sm-0 payment-icons text-right text-md-center">
              <ul class="payment-icons list--inline">
                <li><i class="icon fa fa-cc-visa" aria-hidden="true"></i></li>
                <li><i class="icon fa fa-cc-mastercard" aria-hidden="true"></i></li>
                <li><i class="icon fa fa-cc-discover" aria-hidden="true"></i></li>
                <li><i class="icon fa fa-cc-paypal" aria-hidden="true"></i></li>
                <li><i class="icon fa fa-cc-amex" aria-hidden="true"></i></li>
                <li><i class="icon fa fa-credit-card" aria-hidden="true"></i></li>
              </ul>
            </div>
            <!--End Footer Payment Icon-->
          </div>
        </div>
      </div>
    </div>
  </footer>
  <!--End Footer-->

  <!--Scoll Top-->
  <span id="site-scroll"><i class="icon anm anm-angle-up-r"></i></span>
  <!--End Scoll Top-->

  <!--Quick View popup-->
  <div class="modal fade quick-view-popup" id="content_quickview">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-body">
          <div id="ProductSection-product-template" class="product-template__container prstyle1">
            <div class="product-single">
              <!-- Start model close -->
              <a href="javascript:void()" data-dismiss="modal" class="model-close-btn pull-right" title="close"><span
                  class="icon icon anm anm-times-l"></span></a>
              <!-- End model close -->
              <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-12 col-12">
                  <div class="product-details-img">
                    <div class="pl-20">
                      <img src="assets/images/product-detail-page/camelia-reversible-big1.jpg" alt="" />
                    </div>
                  </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-12 col-12">
                  <div class="product-single__meta">
                    <h2 class="product-single__title">Product Quick View Popup</h2>
                    <div class="prInfoRow">
                      <div class="product-stock"> <span class="instock ">In Stock</span> <span
                          class="outstock hide">Unavailable</span> </div>
                      <div class="product-sku">SKU: <span class="variant-sku">19115-rdxs</span></div>
                    </div>
                    <p class="product-single__price product-single__price-product-template">
                      <span class="visually-hidden">Regular price</span>
                      <s id="ComparePrice-product-template"><span class="money">₹600.00</span></s>
                      <span
                        class="product-price__price product-price__price-product-template product-price__sale product-price__sale--single">
                        <span id="ProductPrice-product-template"><span class="money">₹500.00</span></span>
                      </span>
                    </p>
                    <div class="product-single__description rte">
                      Belle Multipurpose Bootstrap 4 Html Template that will give you and your customers a smooth
                      shopping experience which can be used for various kinds of stores such as fashion,...
                    </div>

                    <form method="post" action="http://annimexweb.com/cart/add" id="product_form_10508262282"
                      accept-charset="UTF-8" class="product-form product-form-product-template hidedropdown"
                      enctype="multipart/form-data">
                      <div class="swatch clearfix swatch-0 option1" data-option-index="0">
                        <div class="product-form__item">
                          <label class="header">Color: <span class="slVariant">Red</span></label>
                          <div data-value="Red" class="swatch-element color red available">
                            <input class="swatchInput" id="swatch-0-red" type="radio" name="option-0" value="Red">
                            <label class="swatchLbl color medium rectangle" for="swatch-0-red"
                              style="background-image:url(assets/images/product-detail-page/variant1-1.jpg);"
                              title="Red"></label>
                          </div>
                          <div data-value="Blue" class="swatch-element color blue available">
                            <input class="swatchInput" id="swatch-0-blue" type="radio" name="option-0" value="Blue">
                            <label class="swatchLbl color medium rectangle" for="swatch-0-blue"
                              style="background-image:url(assets/images/product-detail-page/variant1-2.jpg);"
                              title="Blue"></label>
                          </div>
                          <div data-value="Green" class="swatch-element color green available">
                            <input class="swatchInput" id="swatch-0-green" type="radio" name="option-0" value="Green">
                            <label class="swatchLbl color medium rectangle" for="swatch-0-green"
                              style="background-image:url(assets/images/product-detail-page/variant1-3.jpg);"
                              title="Green"></label>
                          </div>
                          <div data-value="Gray" class="swatch-element color gray available">
                            <input class="swatchInput" id="swatch-0-gray" type="radio" name="option-0" value="Gray">
                            <label class="swatchLbl color medium rectangle" for="swatch-0-gray"
                              style="background-image:url(assets/images/product-detail-page/variant1-4.jpg);"
                              title="Gray"></label>
                          </div>
                        </div>
                      </div>
                      <div class="swatch clearfix swatch-1 option2" data-option-index="1">
                        <div class="product-form__item">
                          <label class="header">Size: <span class="slVariant">XS</span></label>
                          <div data-value="XS" class="swatch-element xs available">
                            <input class="swatchInput" id="swatch-1-xs" type="radio" name="option-1" value="XS">
                            <label class="swatchLbl medium rectangle" for="swatch-1-xs" title="XS">XS</label>
                          </div>
                          <div data-value="S" class="swatch-element s available">
                            <input class="swatchInput" id="swatch-1-s" type="radio" name="option-1" value="S">
                            <label class="swatchLbl medium rectangle" for="swatch-1-s" title="S">S</label>
                          </div>
                          <div data-value="M" class="swatch-element m available">
                            <input class="swatchInput" id="swatch-1-m" type="radio" name="option-1" value="M">
                            <label class="swatchLbl medium rectangle" for="swatch-1-m" title="M">M</label>
                          </div>
                          <div data-value="L" class="swatch-element l available">
                            <input class="swatchInput" id="swatch-1-l" type="radio" name="option-1" value="L">
                            <label class="swatchLbl medium rectangle" for="swatch-1-l" title="L">L</label>
                          </div>
                        </div>
                      </div>
                      <!-- Product Action -->
                      <div class="product-action clearfix">
                        <div class="product-form__item--quantity">
                          <div class="wrapQtyBtn">
                            <div class="qtyField">
                              <a class="qtyBtn minus" href="javascript:void(0);"><i class="fa anm anm-minus-r"
                                  aria-hidden="true"></i></a>
                              <input type="text" id="Quantity" name="quantity" value="1"
                                class="product-form__input qty">
                              <a class="qtyBtn plus" href="javascript:void(0);"><i class="fa anm anm-plus-r"
                                  aria-hidden="true"></i></a>
                            </div>
                          </div>
                        </div>
                        <div class="product-form__item--submit">
                          <button type="button" name="add" class="btn product-form__cart-submit">
                            <span>Add to cart</span>
                          </button>
                        </div>
                      </div>
                      <!-- End Product Action -->
                    </form>
                    
                  </div>
                </div>
              </div>
              <!--End-product-single-->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>









  <!-- Including Jquery -->
  <script src="assets/js/vendor/jquery-3.3.1.min.js"></script>
  <script src="assets/js/vendor/jquery.cookie.js"></script>
  <script src="assets/js/vendor/modernizr-3.6.0.min.js"></script>
  <script src="assets/js/vendor/wow.min.js"></script>
  <!-- Including Javascript -->
  <script src="assets/js/bootstrap.min.js"></script>
  <script src="assets/js/plugins.js"></script>
  <script src="assets/js/popper.min.js"></script>
  <script src="assets/js/lazysizes.js"></script>
  <script src="assets/js/main.js"></script>
  </div>
  </body>

  <!-- belle/shop-grid-4.html   11 Nov 2019 12:39:07 GMT -->

  </html>


  <script>
    function myFunction() {
      // Declare variables
      var input, filter, items, productName, txtValue;
      input = document.getElementById('myInput');
      filter = input.value.toUpperCase();
      items = document.getElementsByClassName("item");

      // Loop through all items and show/hide based on search query
      for (var i = 0; i < items.length; i++) {
        productName = items[i].getElementsByClassName("product-link")[0];
        txtValue = productName.textContent || productName.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          items[i].style.display = ""; // Show matching items
        } else {
          items[i].style.display = "none"; // Hide non-matching items
        }
      }
    }




// Show wishlist button on hover
document.querySelectorAll('.product-image').forEach(image => {
  image.addEventListener('mouseenter', function () {
    const wishlistButton = this.querySelector('.wishlist-btn');
    wishlistButton.style.display = 'block';
  });

  image.addEventListener('mouseleave', function () {
    const wishlistButton = this.querySelector('.wishlist-btn');
    if (!wishlistButton.classList.contains('active')) {
      wishlistButton.style.display = 'none';
    }
  });
});


document.querySelectorAll('.wishlist-btn').forEach(button => {
  button.addEventListener("click", async (e) => {
    e.preventDefault();
    const wishlistButton = e.currentTarget;
    const heartIcon = wishlistButton.querySelector('i');
    const productId = wishlistButton.getAttribute("data-product-id");

    if (!productId) {
      console.error("Product ID not found");
      return;
    }

    // Check current state
    const isInWishlist = heartIcon.classList.contains('fas'); // Check if filled heart

    try {
      const response = await fetch("/wishlist", {
        method: isInWishlist ? "DELETE" : "POST",
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ productId })
      });

      if (response.ok) {
        if (isInWishlist) {
          // Change to empty heart
          heartIcon.classList.remove('fas');
          heartIcon.classList.add('far');
          heartIcon.style.color = 'gray';
          Swal.fire({
            icon: 'success',
            text: 'Removed from wishlist!',
            toast: true,
            position: 'top-right',
            showConfirmButton: false,
            timerProgressBar: true,
            timer: 1250
          });
        } else {
          // Change to filled heart
          heartIcon.classList.remove('far');
          heartIcon.classList.add('fas');
          heartIcon.style.color = 'red';
          Swal.fire({
            icon: 'success',
            text: 'Added to wishlist!',
            toast: true,
            position: 'top-right',
            showConfirmButton: false,
            timerProgressBar: true,
            timer: 1250
          });
        }
      } else {
        Swal.fire({
          icon: 'error',
          text: isInWishlist ? 'Error removing from wishlist!' : 'Error adding to wishlist!',
          toast: true,
          position: 'top-right',
          showConfirmButton: false,
          timerProgressBar: true,
          timer: 1250
        });
      }
    } catch (error) {
      console.error("Error:", error);
      Swal.fire({
        icon: 'error',
        text: 'Something went wrong!',
        toast: true,
        position: 'top-right',
        showConfirmButton: false,
        timerProgressBar: true,
        timer: 1250
      });
    }
  });
});



</script>